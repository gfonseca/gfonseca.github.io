<!doctype html>
<html lang="pt" itemscope itemtype="http://schema.org/Person">
<head>
  <meta charset="utf-8">
  <!-- Site Meta Data -->
  <title>Copiando slices</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Georgio Barbosa da Fonseca">

  <link rel="shortcut icon" href="">

  <!-- schema.org -->
  <meta itemprop="name" content="Code Militia">
  <meta itemprop="image" content="">
  <meta itemprop="description" content="">

  <!-- Style Meta Data -->
  <link rel="stylesheet" href="https://gfonseca.github.io/theme/css/milligram.css" type="text/css" />
  <link rel="stylesheet" href="https://gfonseca.github.io/theme/css/custom.css" type="text/css" />

  <!-- Feed Meta Data -->

  <!-- Twitter Feed -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="">
  <meta name="twitter:image" content="">

<meta name="twitter:creator" content="">
<meta name="twitter:url" content="https://gfonseca.github.io/copiando-slices.html">
<meta name="twitter:title" content="Code Militia ~ Copiando slices">
<meta name="twitter:description" content="Copiando slices A fun√ß√£o builtin copy() tem por intuito copiar os items de um slice origem (org) para um slice destino (dst) üíâ https://golang.org/pkg/builtin/#copy The copy built-in function copies elements from a source slice into a destination slice. (As a special case, it also will copy ‚Ä¶">

<!-- Facebook Meta Data -->
<meta property="og:title" content="Code Militia ~ Copiando slices" />
<meta property="og:description" content="Copiando slices A fun√ß√£o builtin copy() tem por intuito copiar os items de um slice origem (org) para um slice destino (dst) üíâ https://golang.org/pkg/builtin/#copy The copy built-in function copies elements from a source slice into a destination slice. (As a special case, it also will copy ‚Ä¶" />
<meta property="og:image" content="" />
</head>

<body>
    <div class="container">

    <!-- Navbar -->
      <div class="navbar">
        <ul>
            <div>
                <li>
                    <a href="https://gfonseca.github.io"><h3>Code Militia</h3></a>
                </li>
                <li>
                </li>
            </div>
        </ul>
      </div>

  <!-- Sidebar -->
    <sidebar>
        <ul class="static-item">

        </ul>        

        <ul>
                <div class="cat-border">
                <li style="color: #F2F1EF; background-color: #6C7A89;">Categories</li>
                    <li><a href="https://gfonseca.github.io/category/golang.html">golang</a></li>
                </div>
        </ul>

   
        <p> 
        </p>
        <p>
        </p>
        <p>
        </p>
    </sidebar>
    
    <maincontent>
<h2>
    <a href="https://gfonseca.github.io/copiando-slices.html" rel="bookmark" title="Permalink to Copiando slices">Copiando slices</a>
</h2>

<div>
    <b>By: </b><a href="https://gfonseca.github.io/author/georgio-barbosa-da-fonseca.html">Georgio Barbosa da Fonseca</a><b>    On: </b>Wed 25 October 2017<br />
    <b>In: </b><a href="https://gfonseca.github.io/category/golang.html" rel="bookmark" title="Permalink to golang">golang</a><br />
    <em><b>Tags: </b>
    </em>
    <hr>
</div>

<div>
    <mainarticle>
    <h2>Copiando slices</h2>
<p>A fun√ß√£o builtin <a href="https://golang.org/pkg/builtin/#copy">copy()</a> tem por intuito copiar os items de um slice origem (<strong><em>org</em></strong>) para um slice destino (<strong><em>dst</em></strong>) &#128137;</p>
<h4>https://golang.org/pkg/builtin/#copy</h4>
<blockquote>
<p>The copy built-in function copies elements from a source slice into a destination slice. (As a special case, it also will copy bytes from a string to a slice of bytes.) The source and destination may overlap. Copy returns the number of elements copied, which will be the minimum of len(<strong><em>src</em></strong>) and len(<strong><em>dst</em></strong>).</p>
<p>Afun√ß√£o embutida <strong><em>copy</em></strong>(), copia elementos de um slice origem para um slice destino.
(Em um caso especial, tamb√©m copia bytes de uma string para um slice de bytes) A origem e o destino podem se sobrepor. Copy retorna a quantidade de elementos copiados, que ser√° no minimo de len(<strong><em>src</em></strong>) e len(<strong><em>dst</em></strong>)</p>
</blockquote>
<h2>Exemplo</h2>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">org</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
    <span class="kd">var</span> <span class="nx">dst</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>

    <span class="nx">numOfItemsCopied</span> <span class="o">:=</span> <span class="nb">copy</span><span class="p">(</span><span class="nx">dst</span><span class="p">,</span> <span class="nx">org</span><span class="p">)</span>

    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d items copiados.\n&quot;</span><span class="p">,</span> <span class="nx">numOfItems</span><span class="p">)</span>

    <span class="k">for</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">dst</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d =&gt; %d\n&quot;</span><span class="p">,</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3>Sa√≠da</h3>
<div class="highlight"><pre><span></span>10 items copiados.
0 =&gt; 0
1 =&gt; 1
2 =&gt; 2
3 =&gt; 3
4 =&gt; 4
5 =&gt; 5
6 =&gt; 6
7 =&gt; 7
8 =&gt; 8
9 =&gt; 9
</pre></div>


<h2>Copiando uma string</h2>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">org</span> <span class="o">:=</span> <span class="s">&quot;Ol√° mundo&quot;</span>
    <span class="kd">var</span> <span class="nx">dst</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>

    <span class="nb">copy</span><span class="p">(</span><span class="nx">dst</span><span class="p">,</span> <span class="nx">org</span><span class="p">)</span>

    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%s \n&quot;</span><span class="p">,</span> <span class="nx">dst</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<h3>Sa√≠da</h3>
<div class="highlight"><pre><span></span>Ol√° mundo
</pre></div>


<h2>Pequeno truque na fun√ß√£o copy()</h2>
<p>Um dos problemas que tive implementando essa fun√ß√£o pela primeira vez, √© que n√£o sabia que a quantidade de elementos que ser√£o copiados pela fun√ß√£o copy √© igual a quantidade de elemtos do slice <strong><em>dst</em></strong>. Ent√£o:</p>
<div class="highlight"><pre><span></span>numOfItemsCopied = len(dst)
</pre></div>


<h3>Exemplo:</h3>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">org</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
    <span class="kd">var</span> <span class="nx">dst</span> <span class="p">[]</span><span class="kt">int</span>

    <span class="c1">// Copiando </span>
    <span class="nb">copy</span><span class="p">(</span><span class="nx">dst</span><span class="p">,</span> <span class="nx">org</span><span class="p">)</span>

    <span class="c1">// Let&#39;s print it !!! </span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">s2</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3>:(</h3>
<p>Nada foi impresso, n√£o √© mesmo? Isso porque <strong><em>dst</em></strong> est√° vazio.
copy() copia len(<strong><em>dst</em></strong>) elementos de <strong><em>org</em></strong>, ou nesse caso, 0</p>
<div class="highlight"><pre><span></span><span class="c1">// Doing it right!!</span>
<span class="kn">package</span> <span class="nx">main</span>


<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Definindo um tamanho inicial para dst igual ao tamanho de org</span>
    <span class="nx">dst</span> <span class="p">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">org</span><span class="p">))</span>

    <span class="nb">copy</span><span class="p">(</span><span class="nx">dst</span><span class="p">,</span> <span class="nx">org</span><span class="p">)</span>

    <span class="c1">// Let&#39;s print it !!! </span>
    <span class="k">for</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">dst</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="s">&quot;=&gt;&quot;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3>Sa√≠da</h3>
<div class="highlight"><pre><span></span>0 =&gt; 1
1 =&gt; 2
2 =&gt; 3
3 =&gt; 4
4 =&gt; 5
5 =&gt; 6
</pre></div>


<p>Por hoje √© s√≥. &#128640;</p>
    </mainarticle>
</div>
<hr>
        
<div>
        <i>Se esse artigo foi √∫til, por favor compartilhe com seus amigos:</i>
            <p style="margin-top: 2%;">
                <span><a target="_blank" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;" title="Twitter" href="https://twitter.com/share?url=https://gfonseca.github.io/copiando-slices.html&text=Copiando slices&via="><img class="social-icons-a" src="https://gfonseca.github.io/theme/images/icons/twitter.png"></a></span>
                <span><a target="_blank" title="Facebook" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;" href="https://www.facebook.com/sharer.php?u=https://gfonseca.github.io/copiando-slices.html&t=Copiando slices"><img class="social-icons-a" src="https://gfonseca.github.io/theme/images/icons/facebook.png"></a></span>
                <a  target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://gfonseca.github.io/copiando-slices.html&title=Copiando slices" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img class="social-icons-a" src="https://gfonseca.github.io/theme/images/icons/linkedin.png"></a>
            </p>
</div>
<hr>
    <p><i>For any feedback or corrections, please write in to: </i><b> Georgio Barbosa da Fonseca</b></p>
        
    </maincontent>

  <!-- Analytics -->

  </div>
</body>

</html>